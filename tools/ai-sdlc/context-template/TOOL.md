---
name: context-template
description: >
  Starter CLAUDE.md template generator. Produces a project-specific context file
  based on detected stack, directory structure, and common patterns. Use when
  setting up a new repository for AI-assisted development or when improving an
  existing CLAUDE.md file.
---

# Context Template Generator

A starter template for `CLAUDE.md` and equivalent AI context files. Copy the template below, fill in the bracketed sections, and delete anything that doesn't apply.

## Usage

1. Copy the template into your project root as `CLAUDE.md`
2. Fill in each `[bracketed]` section with your project specifics
3. Delete sections that don't apply
4. Keep it under 150 lines — link to docs for details

## Template

```markdown
# CLAUDE.md

## Project Overview

[1-2 sentences: what this project does and who uses it.]

## Commands

- **Test**: `[npm test / pytest / cargo test / go test ./...]`
- **Build**: `[npm run build / make / cargo build]`
- **Lint**: `[npm run lint / ruff check . / clippy]`
- **Format**: `[prettier --write . / ruff format . / cargo fmt]`
- **Dev server**: `[npm run dev / uvicorn app.main:app --reload]`
- **Type check**: `[npx tsc --noEmit / mypy . / cargo check]`

## Architecture

[Describe the high-level structure. Example:]

```
src/
  app/         — Next.js App Router pages and API routes
  components/  — React components (PascalCase.tsx)
  lib/         — Shared utilities and business logic
  db/          — Database schema, migrations, and queries
```

[Key architectural decisions:]
- [e.g., "Server Components by default, 'use client' only when needed"]
- [e.g., "Repository pattern: routes -> services -> repositories"]
- [e.g., "All state management via Zustand stores in src/stores/"]

## Conventions

- [Naming: "PascalCase for components, camelCase for utils, kebab-case for files"]
- [Exports: "Named exports only, no default exports"]
- [Imports: "Use @/ path alias for src/ directory"]
- [Style: "Tailwind CSS, no CSS modules or styled-components"]

## Testing

- [Framework: "vitest for unit, Playwright for E2E"]
- [Location: "Colocated __tests__/ directories"]
- [Mocking: "msw for HTTP, vi.mock for modules"]
- [Naming: "should [behavior] when [condition]"]

## Dependencies

- [Policy: "Do not add new packages without asking"]
- [Preferred: "date-fns over moment, zod for validation"]
- [Forbidden: "axios (use native fetch), lodash (use lodash-es)"]

## Do Not

- [Do not edit files in `src/generated/` — auto-generated by codegen]
- [Do not modify `next.config.js` without asking]
- [Do not use `any` type — use `unknown` and narrow]
- [Do not add `console.log` — use the logger from `src/lib/logger`]

## Environment

- [Required services: "PostgreSQL 15+ on localhost:5432"]
- [Setup: "Copy .env.example to .env for local development"]
- [Never commit: ".env, credentials.json, *.pem"]

## Git

- [Branch naming: "feat/, fix/, chore/ prefixes"]
- [Commits: "Conventional commits (feat:, fix:, docs:)"]
- [PR policy: "Squash merge, delete branch after merge"]
```

## Customization Guide

### For Frontend Projects

Add these sections:
```markdown
## Component Patterns
- Use functional components with TypeScript interfaces for props
- Colocate styles, tests, and stories with components
- Use `React.memo` only when profiling shows a performance issue

## Design System
- Tokens defined in `src/tokens.ts`
- Component library: [Radix UI / shadcn/ui / custom]
- Icons: [lucide-react / heroicons]
```

### For Backend APIs

Add these sections:
```markdown
## API Design
- RESTful endpoints following OpenAPI 3.0 spec
- All responses use standard envelope: `{ data, error, meta }`
- Pagination: cursor-based via `?cursor=` parameter
- Auth: Bearer token in Authorization header

## Database
- ORM: [Prisma / SQLAlchemy / Drizzle]
- Migrations: [prisma migrate / alembic / drizzle-kit]
- Always create a migration when modifying models
- Never use raw SQL in application code (use the ORM)
```

### For Monorepos

Add a structure map:
```markdown
## Monorepo Structure
packages/
  ui/          — Component library (no app-specific imports)
  api-client/  — Generated from OpenAPI (do not edit)
  config/      — Shared lint, TS, and build configs
apps/
  web/         — Next.js frontend
  api/         — Express backend
  worker/      — Background jobs

## Cross-Package Rules
- packages/ must not import from apps/
- Shared types go in packages/api-client
- Run `pnpm build --filter=packages/*` before testing apps
```

## Validation Checklist

After filling in your template, verify:

- [ ] All commands are correct and runnable
- [ ] Architecture section matches actual directory structure
- [ ] Conventions match what existing code actually does (not aspirations)
- [ ] "Do Not" section covers the AI's most likely mistakes
- [ ] File is under 150 lines
- [ ] No secrets, API keys, or internal URLs included
